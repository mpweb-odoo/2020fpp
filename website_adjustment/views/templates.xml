<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- Download manual button-->
    <template inherit_id='website_sale.product' id="product_manual_pdf_name" customize_show="True" name="Image Zoom">
        <xpath expr="//a[@id='add_to_cart']" position='after'>
            <t t-if="product_variant.manual_pdf">
                <div>
                    <a role="button" class="btn btn-primary btn-lg mt8 js_check_product" t-att-href="'/shop/product/download_manual/%s' % (product_variant.id) ">Download Manual</a>
                </div>
            </t>
        </xpath>
        <xpath expr="//ol[@class='breadcrumb']" position='replace'>
            <ol class="breadcrumb">
                <li class="breadcrumb-item">
                    <a t-att-href="keep(category=0)">Product Categories</a>
                </li>
                <li t-if="category" class="breadcrumb-item">
                    <a t-att-href="keep('/shop/category/%s' % slug(category), category=0)" t-field="category.name" />
                </li>
                <li t-if="product" class="breadcrumb-item active">
                    <span t-field="product.name" />
                </li>
            </ol>
        </xpath>
    </template>

    <!-- Product categories shop view -->
    <template id="product_categories_shop_view" customize_show="True" name="Image Zoom">
        <t t-call="website.layout">
            <t t-set="additional_title">Shop</t>
            <style>
                body {
                font: 400 15px Lato, sans-serif;
                line-height: 1.8;
                color: #818181;
                }
                h1 {
                font-size: 24px;
                text-transform: uppercase;
                color: #303030;
                font-weight: 600;
                margin-bottom: 30px;
                }
                .item span {
                font-style: normal;
                }
                .ml-1 {
                margin-left: ($spacer * 2) !important;
                }
                p.one{
                border-style: solid !important;
                border-width:thin !important;
                }
            </style>
            <div id="categ_bootstrap">
                <h1 class="text-center" t-if="category" t-esc="category.name"></h1>
                <h1 class="text-center" t-if="categories and not category">PRODUCT CATEGORIES</h1>
                <div >
                    <div class="col-md-4">
                        <ol class="breadcrumb">
                            <li t-if="not category and not product">
                                <span>Welcome to the shop!</span>
                            </li>
                            <li t-if="category or product" class="breadcrumb-item">
                                <a t-att-href="keep(category=0)">Product Categories</a>
                            </li>
                            <li t-if="category and category.parent_id" class="breadcrumb-item">
                                <a t-att-href="keep('/shop/category/%s' % slug(category.parent_id), category=0)" t-esc="category.parent_id.name"/>
                            </li>
                            <li t-if="category" class="breadcrumb-item active">
                                <a t-esc="category.name"/>
                            </li>
                            <li t-if="product" class="breadcrumb-item active">
                                <span t-field="product.name" />
                            </li>
                        </ol>
                    </div>
                </div>
                <div class="card-group" >
                    <t t-foreach="categories" t-as="categ">
                        <div class="card-deck">
                            <div class="card text-center" style="width: 18rem; height: 15rem; ">
                                <br>
                                    <a itemprop="name" t-att-href="'/shop/category/%s' %slug(categ)"
                                       t-att-content="categ.name" class="card-img-top">
                                        <img t-att-src="'/web/image/product.public.category/%i/image_medium/' %(categ.id)"/>
                                    </a>
                                </br>
                                <br>
                                    <a itemprop="name" t-att-href="'/shop/category/%s' %slug(categ)"
                                       t-att-content="categ.name"
                                       t-field="categ.name" class="card-title"/>
                                </br>
                                <a itemprop="name" t-att-href="'/shop/product/%s' %slug(product)"
                                   t-att-content="product.name" t-field="product.name"
                                   t-if="not categ and not category.child_id and product"/>
                            </div>
                        </div>
                    </t>
                </div>
            </div>
        </t>
    </template>

    <!-- /shop product listing -->
    <template id="product_list" name="Product List">
        <t t-call="website.layout">
            <t t-set="additional_title">Product List</t>
            <style>
                 body {
                font: 400 15px Lato, sans-serif;
                line-height: 1.8;
                color: #818181;
                }
                h1 {
                font-size: 24px;
                text-transform: uppercase;
                color: #303030;
                font-weight: 600;
                margin-bottom: 30px;
                }
                .item span {
                font-style: normal;
                }
                .ml-1 {
                margin-left: ($spacer * 2) !important;
                }
                p.one{
                border-style: solid !important;
                border-width:thin !important;
                }
            </style>
            <h1 class="text-center" t-if="category" t-esc="category.name"></h1>
            <div class="row" style="padding-left: 15px !important;">
                    <div class="col-md-4">
                        <ol class="breadcrumb">
                             <li class="breadcrumb-item">
                                <a t-att-href="keep(category=0)">Product Categories</a>
                            </li>
                            <li t-if="category and category.parent_id" class="breadcrumb-item">
                                <a t-att-href="keep('/shop/category/%s' % slug(category.parent_id), category=0)" t-esc="category.parent_id.name"/>
                            </li>
                            <li t-if="category" class="breadcrumb-item active">
                                <a t-esc="category.name"/>
                            </li>
                        </ol>
                    </div>
                </div>
            <div id="wrap" class="js_sale">
                <div class="oe_structure" id="oe_structure_website_sale_products_1"/>
                <div class="container py-2 oe_website_sale">
                    <div class="products_pager form-inline justify-content-center">
                        <t t-call="website_sale.search">
                            <t t-set="_classes">o_website_sale_search</t>
                        </t>
                        <t t-call="website_sale.pricelist_list">
                            <t t-set="_classes">ml-2</t>
                        </t>
                        <t t-call="website.pager">
                            <t t-set="_classes">ml-2</t>
                        </t>
                    </div>

                    <t t-foreach="products" t-as="product">
                        <div class="oe_product oe_list oe_product_cart"
                             t-att-data-publish="product.website_published and 'on' or 'off'">
                            <t t-call="website_sale.products_item">
                                <t t-set="show_publish" t-value="True" t-att-content="product.name"/>
                            </t>
                            <div class="card-group">
                                <div class="col-lg-10 col-sm-10">
                                    <div class="card-deck">
                                        <t t-set="product_variant_id"
                                           t-value="product._get_first_possible_variant_id()"/>
                                        <input name="product_id" t-att-value="product_variant_id" type="hidden"/>
                                        <t t-if="product.manual_pdf">
                                            <div>
                                                <a role="button" class="btn-sm btn-primary btn-lg mt-5 js_check_product"
                                                   t-att-href="'/shop/product/download_manual/%s' % (product_variant_id) ">
                                                    Download Manual
                                                </a>
                                            </div>
                                        </t>
                                    </div>
                                    <div class="card-deck">
                                        <t t-foreach="product.attribute_line_ids" t-as="product_attribute">
                                            <tr>
                                                <strong>
                                                    <span style="padding-right:5px"><t
                                                            t-esc="product_attribute.attribute_id.name"/>:
                                                    </span>
                                                </strong>
                                            </tr>
                                            <tr>
                                                <span style="padding-right:15px">
                                                    <t t-if="product_attribute.value_ids">
                                                        <t t-esc="product_attribute.value_ids[0].name"/>
                                                    </t>
                                                </span>
                                            </tr>
                                        </t>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </t>
                    <div class="products_pager form-inline justify-content-center mt-3">
                        <t t-call="website.pager"/>
                    </div>
                </div>
                <div class="oe_structure mb32" id="oe_structure_website_sale_products_2"/>
            </div>
        </t>
    </template>

</odoo>
